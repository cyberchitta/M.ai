<div class="flex flex-col gap-2 pb-2 text-token-text-primary text-sm">
  <%= for period <- @periods do %>
    <%= if period.chats != [] do %>
      <div>
        <div class="relative mt-5 empty:mt-0 empty:hidden" style="height: auto; opacity: 1;">
          <div style="opacity: 1;">
            <h3 class="h-9 pb-2 pt-3 px-2 text-xs font-medium text-ellipsis overflow-hidden break-all text-token-text-tertiary">
              <%= period.label %>
            </h3>
          </div>
          <ol>
            <%= for chat <- period.chats do %>
              <li class="relative z-[15]" style="opacity: 1; height: auto;">
                <div class="group relative rounded-lg active:opacity-90 bg-token-sidebar-surface-secondary">
                  <.link href={~p"/chats/#{chat.id}"} class="flex items-center gap-2 p-2">
                    <div class="relative grow overflow-hidden whitespace-nowrap">
                      <%= chat.name %>
                      <div class="absolute bottom-0 right-0 top-0 bg-gradient-to-l to-transparent from-token-sidebar-surface-secondary w-20 from-60%">
                      </div>
                    </div>
                  </.link>
                  <div class="absolute bottom-0 right-0 top-0 items-center gap-1.5 pr-2 flex">
                    <button
                      class="flex items-center justify-center text-token-text-primary transition hover:text-token-text-secondary radix-state-open:text-token-text-secondary"
                      type="button"
                      id={"radix-:r#{chat.id}:"}
                      aria-haspopup="menu"
                      aria-expanded="false"
                      data-state="closed"
                    >
                      <span class="" data-state="closed">
                        <!-- SVG icon for options -->
                      </span>
                    </button>
                    <span class="" data-state="closed">
                      <button class="flex items-center justify-center text-token-text-primary transition hover:text-token-text-secondary radix-state-open:text-token-text-secondary">
                        <!-- SVG icon for archiving -->
                      </button>
                    </span>
                  </div>
                </div>
              </li>
            <% end %>
          </ol>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
